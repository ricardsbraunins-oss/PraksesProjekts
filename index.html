<!DOCTYPE html>
<html>
<head>
  <title>Login Page</title>
</head>
<body>
  <h2>Supabase Login</h2>

  <input id="email" type="email" placeholder="Email" /><br><br>
  <input id="password" type="password" placeholder="Password" /><br><br>

  <button id="btnSignup">Sign Up</button>
  <button id="btnSignin">Sign In</button>
  <button id="btnSignout">Sign Out</button>

  <p id="status"></p>

  <script type="module">
    import { supabase } from './supabase.js';

    const statusText = document.getElementById("status");

    async function signUp() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      const { error } = await supabase.auth.signUp({ email, password });
      statusText.innerHTML = error ? error.message : "Check your email to confirm!";
    }

    async function signIn() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      const { error } = await supabase.auth.signInWithPassword({ email, password });
      statusText.innerHTML = error ? error.message : "Logged in!";
    }

    async function signOut() {
      await supabase.auth.signOut();
      statusText.innerHTML = "Logged out!";
    }

    // Attach functions to window so HTML buttons can access them
    window.signUp = signUp;
    window.signIn = signIn;
    window.signOut = signOut;
  </script>
</body>
</html>
